<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: back-end/passwordHolderAPI.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: back-end/passwordHolderAPI.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// passwordHolderAPI.js

/**
 * readPasswords handles populating the password information commonly
 * shared by all roommates in a group. First function called within the
 * init function when initializing the passwordHolder page.
 * @returns {Array&lt;object>} with the JSON data of each password.
 */
export function readPasswords() {
  if (localStorage.getItem("PasswordHolderData") === null) {
    const firstPasswordList = {
      Passwords: [],
      idPasswordCount: 0,
    };
    localStorage.setItem(
      "PasswordHolderData",
      JSON.stringify(firstPasswordList)
    );
    return JSON.parse(localStorage.getItem("PasswordHolderData")).Passwords;
  } else {
    return JSON.parse(localStorage.getItem("PasswordHolderData")).Passwords;
  }
}

/**
 * queryPasswordInfo handles providing information for a specifc password
 * in the localStorage.
 * @param {Int} id that indicates which password we are trying to query
 * @returns {Object} with the JSON data of the specific password.
 */
export function queryPasswordInfo(id) {
  const apiData = JSON.parse(localStorage.getItem("PasswordHolderData"));
  for (let i = 0; i &lt; apiData.Passwords.length; i++) {
    if (apiData.Passwords[i].id === id) {
      return apiData.Passwords[i];
    }
  }
}

/**
 * readIdCount handles providing information for which id number we are on.
 * @returns {Int} with the latest id assigned to a card.
 */
export function readIdCount() {
  if (localStorage.getItem("PasswordHolderData") === null) {
    return 0;
  }
  return JSON.parse(localStorage.getItem("PasswordHolderData")).idPasswordCount;
}

/**
 * createPassword handles adding a new commonly shared password into the
 * localStorage so that we can store a new password for the rooommate group
 * Establishes the data we are tracking for a commonly shared password.
 * @param {Object} formData provided by JS file that gives us the data for
 * fields of a new password.
 */
export function createPassword(formData) {
  const apiData = JSON.parse(localStorage.getItem("PasswordHolderData"));
  const newPassword = {
    id: apiData.idPasswordCount,
    key: formData.key,
    username: formData.username,
    password: formData.password,
  };
  apiData.idPasswordCount += 1;
  apiData.Passwords.push(newPassword);
  localStorage.setItem("PasswordHolderData", JSON.stringify(apiData));
}

/**
 * updatePassword handles editing an existing commonly shared password and
 * putting the changes into the localStorage so that we can store an
 * updated password for the rooommate group.
 * @param {Object} formData provided by JS file that gives us the fields
 * @param {Int} id that indicates which password we are trying to update
 */
export function updatePassword(id, formData) {
  const apiData = JSON.parse(localStorage.getItem("PasswordHolderData"));
  for (let i = 0; i &lt; apiData.Passwords.length; i++) {
    if (apiData.Passwords[i].id === id) {
      apiData.Passwords[i].key = formData.key;
      apiData.Passwords[i].username = formData.username;
      apiData.Passwords[i].password = formData.password;
      break;
    }
  }
  localStorage.setItem("PasswordHolderData", JSON.stringify(apiData));
}

/**
 * deletePassword handles deleting an existing commonly shared password and
 * putting the changes into the localStorage so that we can remove a
 * password for the rooommate group.
 * @param {Int} id that indicates which password we are trying to delete
 */
export function deletePassword(id) {
  const apiData = JSON.parse(localStorage.getItem("PasswordHolderData"));
  for (let i = 0; i &lt; apiData.Passwords.length; i++) {
    if (apiData.Passwords[i].id === id) {
      apiData.Passwords.splice(i, 1);
      break;
    }
  }
  localStorage.setItem("PasswordHolderData", JSON.stringify(apiData));
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#checkDate">checkDate</a></li><li><a href="global.html#clearArchive">clearArchive</a></li><li><a href="global.html#closeChore">closeChore</a></li><li><a href="global.html#createCard">createCard</a></li><li><a href="global.html#createChore">createChore</a></li><li><a href="global.html#createNoPasswordsMessage">createNoPasswordsMessage</a></li><li><a href="global.html#createPassword">createPassword</a></li><li><a href="global.html#createPasswordForm">createPasswordForm</a></li><li><a href="global.html#createRoommate">createRoommate</a></li><li><a href="global.html#deleteNoPasswordsMessage">deleteNoPasswordsMessage</a></li><li><a href="global.html#deletePassword">deletePassword</a></li><li><a href="global.html#deletePasswordClick">deletePasswordClick</a></li><li><a href="global.html#deleteRoommate">deleteRoommate</a></li><li><a href="global.html#editPasswordForm">editPasswordForm</a></li><li><a href="global.html#inCharge">inCharge</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initFormHandler">initFormHandler</a></li><li><a href="global.html#initPage">initPage</a></li><li><a href="global.html#openInfoPasswordClick">openInfoPasswordClick</a></li><li><a href="global.html#passIdToEditButton">passIdToEditButton</a></li><li><a href="global.html#queryChore">queryChore</a></li><li><a href="global.html#queryPasswordInfo">queryPasswordInfo</a></li><li><a href="global.html#readChores">readChores</a></li><li><a href="global.html#readIdCount">readIdCount</a></li><li><a href="global.html#readPasswords">readPasswords</a></li><li><a href="global.html#readRoommate">readRoommate</a></li><li><a href="global.html#removeFromChore">removeFromChore</a></li><li><a href="global.html#reOpenChore">reOpenChore</a></li><li><a href="global.html#updateChore">updateChore</a></li><li><a href="global.html#updateDelHandler">updateDelHandler</a></li><li><a href="global.html#updatePassword">updatePassword</a></li><li><a href="global.html#updateRoommate">updateRoommate</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Nov 30 2022 02:49:05 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
